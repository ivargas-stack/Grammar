<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grade 7 Final Exam Reviewer</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');
        
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f3f4f6;
        }

        .fade-in {
            animation: fadeIn 0.3s ease-in-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .glass-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .topic-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1);
        }

        /* Modal Styles */
        .modal {
            transition: opacity 0.25s ease;
        }
        body.modal-active {
            overflow-x: hidden;
            overflow-y: visible !important;
        }
    </style>
</head>
<body class="text-gray-800 min-h-screen pb-12">

    <!-- Header -->
    <header class="bg-indigo-600 text-white shadow-lg sticky top-0 z-50">
        <div class="max-w-4xl mx-auto px-4 py-4 flex justify-between items-center">
            <div>
                <h1 class="text-2xl font-bold flex items-center gap-2">
                    <i class="fas fa-graduation-cap"></i> G7 Exam Reviewer
                </h1>
                <p class="text-indigo-200 text-xs mt-1">Final Exam Preparation</p>
            </div>
            <div class="flex gap-2">
                <button onclick="toggleModal()" class="bg-indigo-500 hover:bg-indigo-400 text-white p-2 rounded-lg transition-colors" title="Quick Tips">
                    <i class="fas fa-lightbulb"></i>
                </button>
                <div class="flex bg-indigo-700 rounded-lg p-1">
                    <button onclick="switchTab('study')" id="btn-study" class="px-4 py-2 rounded-md font-medium transition-all bg-white text-indigo-700 shadow-sm">
                        <i class="fas fa-book-open mr-2 hidden md:inline"></i>Study
                    </button>
                    <button onclick="switchTab('quiz')" id="btn-quiz" class="px-4 py-2 rounded-md font-medium transition-all text-indigo-200 hover:text-white">
                        <i class="fas fa-pen-alt mr-2 hidden md:inline"></i>Quiz
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content Area -->
    <main class="max-w-4xl mx-auto px-4 py-8">
        
        <!-- STUDY SECTION -->
        <div id="study-section" class="fade-in space-y-6">
            
            <!-- Intro Banner -->
            <div class="bg-white rounded-2xl p-6 shadow-sm border-l-4 border-indigo-500 flex items-start gap-4">
                <div class="bg-indigo-100 p-3 rounded-full text-indigo-600">
                    <i class="fas fa-info-circle text-xl"></i>
                </div>
                <div>
                    <h2 class="text-lg font-bold text-gray-800">Review Guide</h2>
                    <p class="text-gray-600 text-sm">Review these 7 key topics carefully before taking the quiz. Pay close attention to the examples!</p>
                </div>
            </div>

            <!-- 1. Simple Future Tense -->
            <div class="topic-card bg-white rounded-xl shadow-sm overflow-hidden transition-all duration-300">
                <div class="bg-blue-500 p-4 text-white flex justify-between items-center">
                    <h3 class="font-bold text-lg">1. Simple Future Tense</h3>
                    <span class="text-xs bg-white/20 px-2 py-1 rounded">Predictions & Offers</span>
                </div>
                <div class="p-6 space-y-4">
                    <div class="bg-blue-50 p-4 rounded-lg border border-blue-100">
                        <p class="font-bold text-blue-800 mb-2"><i class="fas fa-check-circle mr-2"></i>The Rule</p>
                        <p class="text-lg text-center font-mono bg-white p-2 rounded border border-blue-200 text-blue-600 font-bold">will + base verb</p>
                    </div>
                    <div class="grid md:grid-cols-2 gap-4">
                        <div class="p-3 bg-gray-50 rounded">
                            <p class="text-xs font-bold text-gray-500 uppercase">Prediction</p>
                            <p>"Robots <span class="font-bold text-blue-600">will do</span> our housework."</p>
                        </div>
                        <div class="p-3 bg-gray-50 rounded">
                            <p class="text-xs font-bold text-gray-500 uppercase">Offer</p>
                            <p>"I <span class="font-bold text-blue-600">will help</span> you with that."</p>
                        </div>
                    </div>
                    <div class="text-sm text-red-500 bg-red-50 p-3 rounded flex items-start gap-2">
                        <i class="fas fa-exclamation-triangle mt-1"></i>
                        <p><strong>Watch out:</strong> Never add "-ing" or "-ed". (Wrong: <s>will helping</s>)</p>
                    </div>
                </div>
            </div>

            <!-- 2. Hyphenated Adjectives -->
            <div class="topic-card bg-white rounded-xl shadow-sm overflow-hidden transition-all duration-300">
                <div class="bg-emerald-500 p-4 text-white">
                    <h3 class="font-bold text-lg">2. Hyphenated Adjectives</h3>
                </div>
                <div class="p-6">
                    <p class="mb-4">Adjectives made of two words joined by a hyphen (-).</p>
                    <div class="bg-emerald-50 p-4 rounded-lg border border-emerald-100 mb-4">
                        <p class="font-bold text-emerald-800"><i class="fas fa-star mr-2"></i>The No-Plural Rule</p>
                        <p class="text-sm text-emerald-700 mt-1">When numbers are used in the adjective, <strong>never make them plural</strong>.</p>
                    </div>
                    <div class="flex flex-col gap-2">
                        <div class="flex items-center justify-between bg-green-100 p-3 rounded text-green-800">
                            <span><i class="fas fa-check mr-2"></i>A <strong>ten-minute</strong> break</span>
                        </div>
                        <div class="flex items-center justify-between bg-red-100 p-3 rounded text-red-800 opacity-70">
                            <span><i class="fas fa-times mr-2"></i>A ten-minutes break</span>
                        </div>
                    </div>
                    <div class="mt-4 grid grid-cols-1 md:grid-cols-3 gap-2 text-sm">
                        <div class="bg-gray-50 p-2 rounded border"><strong>brand-new</strong><br><span class="text-gray-500">completely new</span></div>
                        <div class="bg-gray-50 p-2 rounded border"><strong>low-priced</strong><br><span class="text-gray-500">cheap</span></div>
                        <div class="bg-gray-50 p-2 rounded border"><strong>battery-operated</strong><br><span class="text-gray-500">uses batteries</span></div>
                    </div>
                </div>
            </div>

            <!-- 3. Passive Voice -->
            <div class="topic-card bg-white rounded-xl shadow-sm overflow-hidden transition-all duration-300">
                <div class="bg-purple-500 p-4 text-white">
                    <h3 class="font-bold text-lg">3. Passive Voice (Perfect Tenses)</h3>
                </div>
                <div class="p-6">
                    <p class="text-sm mb-4">The receiver of the action becomes the subject. Focus on the formula: <strong>been + V3</strong>.</p>
                    <div class="overflow-x-auto">
                        <table class="w-full text-sm text-left">
                            <thead class="text-xs text-gray-700 uppercase bg-gray-100">
                                <tr>
                                    <th class="px-4 py-2 rounded-l-lg">Tense</th>
                                    <th class="px-4 py-2">Formula</th>
                                    <th class="px-4 py-2 rounded-r-lg">Example</th>
                                </tr>
                            </thead>
                            <tbody class="divide-y divide-gray-100">
                                <tr class="bg-white">
                                    <td class="px-4 py-3 font-medium">Present Perfect</td>
                                    <td class="px-4 py-3 text-purple-600 font-mono">has/have + been + V3</td>
                                    <td class="px-4 py-3">Treasures <strong class="text-purple-600">have been thrown</strong> away.</td>
                                </tr>
                                <tr class="bg-white">
                                    <td class="px-4 py-3 font-medium">Past Perfect</td>
                                    <td class="px-4 py-3 text-purple-600 font-mono">had + been + V3</td>
                                    <td class="px-4 py-3">It <strong class="text-purple-600">had been invented</strong> by Edison.</td>
                                </tr>
                                <tr class="bg-white">
                                    <td class="px-4 py-3 font-medium">Future Perfect</td>
                                    <td class="px-4 py-3 text-purple-600 font-mono">will have + been + V3</td>
                                    <td class="px-4 py-3">It <strong class="text-purple-600">will have been studied</strong>.</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- 4. Collocations -->
            <div class="topic-card bg-white rounded-xl shadow-sm overflow-hidden transition-all duration-300">
                <div class="bg-orange-500 p-4 text-white">
                    <h3 class="font-bold text-lg">4. Collocations</h3>
                </div>
                <div class="p-6">
                    <p class="mb-4 text-sm text-gray-600">Words that naturally go together. Don't swap the verbs!</p>
                    <div class="flex flex-wrap gap-3">
                        <span class="px-4 py-2 bg-orange-50 text-orange-800 rounded-full border border-orange-200">
                            <strong>Catch</strong> the bus
                        </span>
                        <span class="px-4 py-2 bg-orange-50 text-orange-800 rounded-full border border-orange-200">
                            <strong>Take</strong> a seat
                        </span>
                        <span class="px-4 py-2 bg-orange-50 text-orange-800 rounded-full border border-orange-200">
                            <strong>Keep</strong> a diary
                        </span>
                        <span class="px-4 py-2 bg-orange-50 text-orange-800 rounded-full border border-orange-200">
                            <strong>Save</strong> time
                        </span>
                        <span class="px-4 py-2 bg-orange-50 text-orange-800 rounded-full border border-orange-200">
                            <strong>Go</strong> shopping
                        </span>
                    </div>
                </div>
            </div>

            <!-- 5. QUASM -->
            <div class="topic-card bg-white rounded-xl shadow-sm overflow-hidden transition-all duration-300">
                <div class="bg-pink-500 p-4 text-white">
                    <h3 class="font-bold text-lg">5. Question Word Order (QUASM)</h3>
                </div>
                <div class="p-6">
                    <div class="flex justify-center gap-1 md:gap-4 mb-6 text-center">
                        <div class="flex-1">
                            <div class="bg-pink-100 text-pink-700 font-bold p-2 rounded-t-lg">QU</div>
                            <div class="bg-gray-50 p-2 text-xs border border-t-0 rounded-b-lg">Question Word<br>(Where)</div>
                        </div>
                        <div class="flex-none py-2 font-bold text-gray-300">+</div>
                        <div class="flex-1">
                            <div class="bg-pink-100 text-pink-700 font-bold p-2 rounded-t-lg">A</div>
                            <div class="bg-gray-50 p-2 text-xs border border-t-0 rounded-b-lg">Auxiliary<br>(did)</div>
                        </div>
                        <div class="flex-none py-2 font-bold text-gray-300">+</div>
                        <div class="flex-1">
                            <div class="bg-pink-100 text-pink-700 font-bold p-2 rounded-t-lg">S</div>
                            <div class="bg-gray-50 p-2 text-xs border border-t-0 rounded-b-lg">Subject<br>(you)</div>
                        </div>
                        <div class="flex-none py-2 font-bold text-gray-300">+</div>
                        <div class="flex-1">
                            <div class="bg-pink-100 text-pink-700 font-bold p-2 rounded-t-lg">M</div>
                            <div class="bg-gray-50 p-2 text-xs border border-t-0 rounded-b-lg">Main Verb<br>(go?)</div>
                        </div>
                    </div>
                    <p class="text-center font-medium italic text-gray-600">"Where did you put the keys?"</p>
                </div>
            </div>

            <!-- 6 & 7 Split -->
            <div class="grid md:grid-cols-2 gap-6">
                <!-- 6. Delexical Verbs -->
                <div class="topic-card bg-white rounded-xl shadow-sm overflow-hidden transition-all duration-300">
                    <div class="bg-teal-500 p-4 text-white">
                        <h3 class="font-bold text-lg">6. Delexical Verbs</h3>
                    </div>
                    <div class="p-6">
                        <p class="text-sm mb-4">Verbs that take the meaning of the noun (Make, Take, Have).</p>
                        <ul class="space-y-2 text-sm">
                            <li class="flex items-center gap-2">
                                <i class="fas fa-caret-right text-teal-500"></i>
                                <span><strong>Make</strong> an effort = To try hard</span>
                            </li>
                            <li class="flex items-center gap-2">
                                <i class="fas fa-caret-right text-teal-500"></i>
                                <span><strong>Take</strong> a seat = To sit</span>
                            </li>
                            <li class="flex items-center gap-2">
                                <i class="fas fa-caret-right text-teal-500"></i>
                                <span><strong>Have</strong> a drink = To drink</span>
                            </li>
                        </ul>
                    </div>
                </div>

                <!-- 7. Onomatopoeia -->
                <div class="topic-card bg-white rounded-xl shadow-sm overflow-hidden transition-all duration-300">
                    <div class="bg-yellow-500 p-4 text-white">
                        <h3 class="font-bold text-lg">7. Speech Sounds</h3>
                    </div>
                    <div class="p-6">
                        <p class="text-sm mb-4">Words that sound like the noise they represent.</p>
                        <div class="space-y-3">
                            <div class="flex items-center gap-3">
                                <span class="bg-yellow-100 text-yellow-800 font-black px-3 py-1 rounded uppercase text-sm w-24 text-center">Splat!</span>
                                <span class="text-xs text-gray-600">Soft/wet object hitting surface</span>
                            </div>
                            <div class="flex items-center gap-3">
                                <span class="bg-yellow-100 text-yellow-800 font-black px-3 py-1 rounded uppercase text-sm w-24 text-center">Clatter!</span>
                                <span class="text-xs text-gray-600">Hard objects crashing (dishes)</span>
                            </div>
                            <div class="flex items-center gap-3">
                                <span class="bg-yellow-100 text-yellow-800 font-black px-3 py-1 rounded uppercase text-sm w-24 text-center">Splash!</span>
                                <span class="text-xs text-gray-600">Something falling into water</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="text-center py-8">
                <button onclick="switchTab('quiz')" class="bg-indigo-600 text-white px-8 py-3 rounded-full font-bold shadow-lg hover:bg-indigo-700 transition transform hover:-translate-y-1">
                    Ready? Take the Quiz <i class="fas fa-arrow-right ml-2"></i>
                </button>
            </div>
        </div>

        <!-- QUIZ SECTION -->
        <div id="quiz-section" class="hidden fade-in">
            
            <div class="bg-white rounded-2xl shadow-lg p-6 md:p-8">
                <div class="flex justify-between items-center mb-6 border-b pb-4">
                    <h2 class="text-2xl font-bold text-gray-800">Practice Exam</h2>
                    <div class="bg-indigo-100 text-indigo-700 px-4 py-2 rounded-lg font-bold">
                        Score: <span id="score">0</span> / 10
                    </div>
                </div>

                <!-- Quiz Container -->
                <div id="quiz-container" class="space-y-8">
                    <!-- Questions will be injected here by JS -->
                </div>

                <!-- Results Section (Hidden initially) -->
                <div id="result-section" class="hidden text-center py-10 space-y-4">
                    <div id="result-icon" class="text-6xl mb-4"></div>
                    <h3 id="result-title" class="text-3xl font-bold"></h3>
                    <p id="result-message" class="text-gray-600"></p>
                    <button onclick="resetQuiz()" class="mt-6 bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 transition">
                        <i class="fas fa-redo mr-2"></i>Try Again
                    </button>
                </div>
            </div>
        </div>

    </main>

    <!-- Tips Modal -->
    <div id="tips-modal" class="modal opacity-0 pointer-events-none fixed w-full h-full top-0 left-0 flex items-center justify-center z-50">
        <div class="modal-overlay absolute w-full h-full bg-gray-900 opacity-50" onclick="toggleModal()"></div>
        <div class="modal-container bg-white w-11/12 md:max-w-md mx-auto rounded shadow-lg z-50 overflow-y-auto">
            <div class="modal-content py-4 text-left px-6">
                <div class="flex justify-between items-center pb-3">
                    <p class="text-2xl font-bold">Study Tips</p>
                    <div class="modal-close cursor-pointer z-50" onclick="toggleModal()">
                        <i class="fas fa-times text-gray-500 hover:text-red-500"></i>
                    </div>
                </div>
                <div class="my-5 space-y-3">
                    <p class="text-sm text-gray-600"><i class="fas fa-bolt text-yellow-500 mr-2"></i><strong>Don't Rush:</strong> Read the "Rule" box in every card first.</p>
                    <p class="text-sm text-gray-600"><i class="fas fa-undo text-blue-500 mr-2"></i><strong>Repetition:</strong> If you get a quiz answer wrong, restart the quiz until you get 10/10.</p>
                    <p class="text-sm text-gray-600"><i class="fas fa-volume-up text-pink-500 mr-2"></i><strong>Say it Aloud:</strong> For "Collocations", say the phrase out loud to hear if it sounds natural.</p>
                </div>
                <div class="flex justify-end pt-2">
                    <button class="px-4 py-2 bg-indigo-500 p-3 rounded-lg text-white hover:bg-indigo-400" onclick="toggleModal()">Got it!</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="text-center text-gray-400 text-sm py-6">
        <p>Created for Grade 7 Review</p>
    </footer>

    <script>
        // Modal Logic
        function toggleModal() {
            const body = document.querySelector('body');
            const modal = document.getElementById('tips-modal');
            modal.classList.toggle('opacity-0');
            modal.classList.toggle('pointer-events-none');
            body.classList.toggle('modal-active');
        }

        // Quiz Data
        const questions = [
            {
                id: 1,
                topic: "Simple Future",
                question: "I think it _______ rain later today.",
                options: ["will", "is going to", "will raining", "will to"],
                correct: 0,
                explanation: "We use 'will' for predictions (things we think/believe)."
            },
            {
                id: 2,
                topic: "Future Tense",
                question: "Which sentence is grammatically INCORRECT?",
                options: ["She will helps me.", "She will help me.", "They will go home.", "I will study hard."],
                correct: 0,
                explanation: "After 'will', use the base verb. No 's', 'ed', or 'ing'. Correct: 'She will help'."
            },
            {
                id: 3,
                topic: "Hyphenated Adjectives",
                question: "She took a _______ nap.",
                options: ["ten-minutes", "ten-minute", "ten minute", "ten minutes"],
                correct: 1,
                explanation: "Hyphenated adjectives are never plural. 'Ten-minute' acts as one adjective."
            },
            {
                id: 4,
                topic: "Hyphenated Adjectives",
                question: "Identify the hyphenated adjective: 'I bought a brand-new car.'",
                options: ["bought", "brand-new", "car", "I"],
                correct: 1,
                explanation: "'Brand-new' describes the car."
            },
            {
                id: 5,
                topic: "Passive Voice",
                question: "Present Perfect Passive: 'The dishes _______ washed by Dad.'",
                options: ["has been", "have been", "had been", "will have been"],
                correct: 1,
                explanation: "Plural subject (dishes) + Present Perfect = have been."
            },
            {
                id: 6,
                topic: "Passive Voice",
                question: "Past Perfect Passive: 'The window _______ broken before we arrived.'",
                options: ["has been", "was", "had been", "is being"],
                correct: 2,
                explanation: "Past Perfect Passive formula: had + been + V3."
            },
            {
                id: 7,
                topic: "Collocations",
                question: "I need to _______ a diary for my English class.",
                options: ["take", "catch", "keep", "save"],
                correct: 2,
                explanation: "The correct collocation is 'keep a diary'."
            },
            {
                id: 8,
                topic: "QUASM",
                question: "Reorder: cooking / what / mom / is ?",
                options: ["What mom is cooking?", "What is mom cooking?", "Is mom cooking what?", "What cooking is mom?"],
                correct: 1,
                explanation: "QUASM: QU(What) + A(is) + S(mom) + M(cooking)?"
            },
            {
                id: 9,
                topic: "Delexical Verbs",
                question: "Which phrase means 'to try hard'?",
                options: ["Make a mess", "Take a seat", "Make an effort", "Have a try"],
                correct: 2,
                explanation: "'Make an effort' is the specific delexical verb phrase for trying hard."
            },
            {
                id: 10,
                topic: "Onomatopoeia",
                question: "The stack of plates fell with a loud _______!",
                options: ["SPLAT", "SPLASH", "CLATTER", "WOOF"],
                correct: 2,
                explanation: "CLATTER is the sound of hard objects (like plates) hitting together."
            }
        ];

        let score = 0;
        let answeredCount = 0;

        // Init
        document.addEventListener('DOMContentLoaded', () => {
            renderQuiz();
        });

        // Tab Switching Logic
        function switchTab(tab) {
            const studySection = document.getElementById('study-section');
            const quizSection = document.getElementById('quiz-section');
            const btnStudy = document.getElementById('btn-study');
            const btnQuiz = document.getElementById('btn-quiz');

            if (tab === 'study') {
                studySection.classList.remove('hidden');
                quizSection.classList.add('hidden');
                
                // Button Styles
                btnStudy.classList.add('bg-white', 'text-indigo-700', 'shadow-sm');
                btnStudy.classList.remove('text-indigo-200');
                
                btnQuiz.classList.remove('bg-white', 'text-indigo-700', 'shadow-sm');
                btnQuiz.classList.add('text-indigo-200');
            } else {
                studySection.classList.add('hidden');
                quizSection.classList.remove('hidden');

                // Button Styles
                btnQuiz.classList.add('bg-white', 'text-indigo-700', 'shadow-sm');
                btnQuiz.classList.remove('text-indigo-200');

                btnStudy.classList.remove('bg-white', 'text-indigo-700', 'shadow-sm');
                btnStudy.classList.add('text-indigo-200');
            }
            window.scrollTo(0,0);
        }

        // Render Quiz Questions
        function renderQuiz() {
            const container = document.getElementById('quiz-container');
            container.innerHTML = '';
            score = 0;
            answeredCount = 0;
            document.getElementById('score').innerText = score;
            document.getElementById('result-section').classList.add('hidden');

            questions.forEach((q, index) => {
                const qEl = document.createElement('div');
                qEl.className = 'bg-gray-50 p-4 rounded-xl border border-gray-200';
                qEl.id = `q-${index}`;

                let optionsHtml = '';
                q.options.forEach((opt, i) => {
                    optionsHtml += `
                        <button onclick="checkAnswer(${index}, ${i})" 
                            class="option-btn-${index} w-full text-left p-3 rounded-lg border border-gray-200 bg-white hover:bg-indigo-50 hover:border-indigo-300 transition-all mb-2 relative group">
                            <span class="font-bold mr-2 text-gray-400 group-hover:text-indigo-500">${String.fromCharCode(65+i)}.</span> ${opt}
                        </button>
                    `;
                });

                qEl.innerHTML = `
                    <div class="mb-3">
                        <span class="text-xs font-bold tracking-wider text-indigo-500 uppercase">${q.topic}</span>
                        <h4 class="text-lg font-semibold text-gray-800 mt-1">${index + 1}. ${q.question}</h4>
                    </div>
                    <div class="space-y-1">
                        ${optionsHtml}
                    </div>
                    <div id="feedback-${index}" class="hidden mt-4 p-3 rounded-lg text-sm"></div>
                `;
                container.appendChild(qEl);
            });
        }

        // Check Answer Logic
        function checkAnswer(qIndex, selectedOptionIndex) {
            // Prevent changing answer
            const buttons = document.getElementsByClassName(`option-btn-${qIndex}`);
            if (Array.from(buttons).some(b => b.disabled)) return;

            const question = questions[qIndex];
            const isCorrect = selectedOptionIndex === question.correct;
            const feedbackEl = document.getElementById(`feedback-${qIndex}`);

            // Disable all buttons for this question
            Array.from(buttons).forEach((btn, i) => {
                btn.disabled = true;
                btn.classList.remove('hover:bg-indigo-50', 'hover:border-indigo-300');
                
                if (i === question.correct) {
                    btn.classList.add('bg-green-100', 'border-green-500', 'text-green-800');
                    btn.innerHTML += ' <i class="fas fa-check float-right mt-1"></i>';
                } else if (i === selectedOptionIndex && !isCorrect) {
                    btn.classList.add('bg-red-100', 'border-red-500', 'text-red-800');
                    btn.innerHTML += ' <i class="fas fa-times float-right mt-1"></i>';
                } else {
                    btn.classList.add('opacity-50');
                }
            });

            // Show Feedback
            feedbackEl.classList.remove('hidden');
            if (isCorrect) {
                score++;
                document.getElementById('score').innerText = score;
                feedbackEl.classList.add('bg-green-50', 'text-green-800', 'border', 'border-green-200');
                feedbackEl.innerHTML = `<strong>Correct!</strong> ${question.explanation}`;
            } else {
                feedbackEl.classList.add('bg-red-50', 'text-red-800', 'border', 'border-red-200');
                feedbackEl.innerHTML = `<strong>Incorrect.</strong> ${question.explanation}`;
            }

            answeredCount++;
            
            // Check if all answered
            if (answeredCount === questions.length) {
                showFinalResult();
            }
        }

        function showFinalResult() {
            const resultSection = document.getElementById('result-section');
            const icon = document.getElementById('result-icon');
            const title = document.getElementById('result-title');
            const msg = document.getElementById('result-message');

            resultSection.classList.remove('hidden');
            resultSection.scrollIntoView({ behavior: 'smooth' });

            if (score === questions.length) {
                icon.innerHTML = 'ðŸ†';
                title.innerText = "Perfect Score!";
                title.className = "text-3xl font-bold text-yellow-500";
                msg.innerText = "You are completely ready for the exam. Amazing job!";
            } else if (score >= 7) {
                icon.innerHTML = 'ðŸŒŸ';
                title.innerText = "Great Job!";
                title.className = "text-3xl font-bold text-green-500";
                msg.innerText = "You have a solid understanding. Review the few you missed and you'll be set.";
            } else {
                icon.innerHTML = 'ðŸ“š';
                title.innerText = "Keep Practicing";
                title.className = "text-3xl font-bold text-indigo-500";
                msg.innerText = "Go back to the Study tab and review the topics, then try again.";
            }
        }

        function resetQuiz() {
            renderQuiz();
            window.scrollTo({ top: document.getElementById('quiz-section').offsetTop, behavior: 'smooth' });
        }
    </script>
</body>
</html>
